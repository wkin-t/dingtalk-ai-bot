# ================= DingTalk Gemini 配置模板 =================
# 复制此文件为 .env 并填写实际值

# 1. Google Gemini API Key
GEMINI_API_KEY=your_gemini_api_key

# 2. Gemini 模型配置
# 可选: gemini-2.0-flash, gemini-2.0-flash-thinking-exp, gemini-3-pro-preview
GEMINI_MODEL=gemini-3-pro-preview

# 是否启用 thinking 模式 (显示模型的思考过程)
ENABLE_THINKING=true

# 是否启用 Google Search (让 AI 自动搜索实时信息)
ENABLE_SEARCH=true

# 3. 钉钉机器人配置 (Stream 模式)
# 请在钉钉开发者后台 -> 应用详情 -> 凭证与基础信息 中获取
DINGTALK_CLIENT_ID=your_dingtalk_client_id
DINGTALK_CLIENT_SECRET=your_dingtalk_client_secret

# 3.1 企业微信机器人配置 (Webhook 模式)
# 回调配置 (企业微信后台「接收消息」里填写)
WECOM_BOT_TOKEN=your_custom_token
WECOM_BOT_ENCODING_AES_KEY=your_43_char_encoding_aes_key
# 可选: receive_id 严格校验，不确定时留空
WECOM_BOT_RECEIVE_ID=
# 机器人发消息 Webhook (二选一)
WECOM_BOT_WEBHOOK_KEY=your_wecom_bot_webhook_key
# WECOM_BOT_WEBHOOK_URL=https://qyapi.weixin.qq.com/cgi-bin/webhook/send?key=xxx
# 机器人回包模式:
# - response_url: 主动回复（稳定，群聊不支持流式卡片）
# - passive_stream: 被动回包（支持 stream / stream_with_template_card）
WECOM_BOT_REPLY_MODE=response_url
# 被动流式样式（仅在 WECOM_BOT_REPLY_MODE=passive_stream 时生效）
# 可选: stream | stream_with_template_card
WECOM_BOT_STREAM_STYLE=stream

# 平台选择: dingtalk | wecom | both
PLATFORM=both

# 4. 代理设置 (可选)
# 如果服务器在海外，通常不需要代理，保持为空即可
# 如果服务器在国内，需要填入代理地址
SOCKS_PROXY=socks5h://127.0.0.1:1080

# HTTP 代理 (用于不支持 SOCKS5 的 SDK，如钉钉官方 SDK)
HTTP_PROXY_URL=http://127.0.0.1:1087

# 5. AI 卡片模板 ID (可选，使用默认值)
# CARD_TEMPLATE_ID=ea2d035e-20fe-447d-9fbf-c04658772b24.schema

# 6. 上下文配置 (可选)
# MAX_HISTORY_LENGTH=50
# MAX_STORAGE_LENGTH=1000

# ================= 数据库配置 (可选) =================
# 如果不配置，将降级到文件存储

# Redis 配置
REDIS_HOST=127.0.0.1
REDIS_PORT=36379
REDIS_PASSWORD=
REDIS_DB=0

# MySQL 配置
MYSQL_HOST=127.0.0.1
MYSQL_PORT=33306
MYSQL_USER=root
MYSQL_PASSWORD=your_mysql_password
MYSQL_DATABASE=dingtalk_gemini
